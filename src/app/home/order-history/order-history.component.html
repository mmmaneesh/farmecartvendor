<ion-toolbar>
    <ion-buttons slot="start">
        <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
    <ion-title>
        Order History
    </ion-title>
</ion-toolbar>
<ion-content>
    <div *ngIf="orders && orders.length > 0">
        <ion-card class="orders-item" *ngFor="let x of orders" (click)="openOrderDetail(x)">
            <h5 class="d-flex" style="justify-content: space-between; align-items: center">Order ID: #{{x.id}} <small>{{dateFormat(x.date_created)}}</small></h5>
            <ion-row>
                <ion-col size="6" no-padding>
                    <p class="item-name m-0" m-0>Total Amount:<strong>Rs {{x.total}}</strong></p>
                </ion-col>
                <ion-col size="6" no-padding>
                    <p class="status m-0 pull-right" style="font-size: 10px;">Status: <strong>{{(x.status == 'on-hold') ? 'Pending Approval' : x.status}}</strong></p>
                </ion-col>
            </ion-row>
        </ion-card>
    </div>

    <div class="d-flex justify-content-center" style="align-items: center; height:100%" *ngIf="(orders.length == 0 || orders == null)">
        <ion-spinner name="crescent" *ngIf="(orders.length == 0 || orders == null) && fetchingProducts">
        </ion-spinner>
        <div *ngIf="(orders.length == 0 || orders == null) && fetchingProducts == false">No order found</div>
    </div>
</ion-content>